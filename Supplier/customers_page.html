<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Management | Paper Products</title>
    <link rel="stylesheet" href="customer.css" />
    
</head>
<body>
    <header>
        <div class="logo">PaperSupply</div>
        <div class="user-info">
            <img src="https://via.placeholder.com/40" alt="User">
            <span>Admin User</span>
        </div>
    </header>

    <div class="sidebar">
        <ul>
            <li><a href="supplier_template.html">Dashboard</a></li>
            <li><a href="orders.html">Orders</a></li>
            <li class="active"><a href="customers_page.html">Customers</a></li>
            <li><a href="stats_page.html">Statistics</a></li>
            <li><a href="queries_page.html">Queries</a></li>
            <li><a href="settings.html">Settings</a></li>
        </ul>
    </div>

    <div class="main-content">
        <h1 class="dashboard-title">Customer Management</h1>
        
        <div class="search-filter-container">
            <div class="search-box">
                <input type="text" id="customerSearch" placeholder="Search customers...">
                <button id="searchBtn" class="btn btn-primary">Search</button>
            </div>
            <div class="filter-options">
                <select id="accountTypeFilter">
                    <option value="">All Account Types</option>
                    <option value="Premium">Premium</option>
                    <option value="Standard">Standard</option>
                    <option value="Basic">Basic</option>
                </select>
                <select id="statusFilter">
                    <option value="">All Statuses</option>
                    <option value="Active">Active</option>
                    <option value="Inactive">Inactive</option>
                </select>
            </div>
        </div>

        <div class="stats-container">
            <div class="stat-card">
                <div class="icon">üë•</div>
                <h3>TOTAL CUSTOMERS</h3>
                <div class="value" id="totalCustomers">2,459</div>
                <div class="trend up">5% from last month</div>
            </div>
            <div class="stat-card">
                <div class="icon">‚≠ê</div>
                <h3>PREMIUM ACCOUNTS</h3>
                <div class="value" id="premiumAccounts">847</div>
                <div class="trend up">8% from last month</div>
            </div>
            <div class="stat-card">
                <div class="icon">‚ùì</div>
                <h3>PENDING QUERIES</h3>
                <div class="value" id="pendingQueries">13</div>
                <div class="trend down">2 less than yesterday</div>
            </div>
            <div class="stat-card">
                <div class="icon">üí∞</div>
                <h3>TOTAL REVENUE</h3>
                <div class="value" id="totalRevenue"><span class="currency">R</span>1,234,567</div>
                <div class="trend up">12% from last month</div>
            </div>
        </div>

        <div class="customers-section">
            <div class="section-header">
                <h2>Customer List</h2>
                <button class="btn btn-primary" id="addCustomerBtn">Add Customer</button>
            </div>
            <div class="customer-grid" id="customerGrid">
                <!-- Customer cards will be dynamically added here -->
            </div>
        </div>

        <!-- Add Customer Modal -->
        <div id="addCustomerModal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2>Add New Customer</h2>
                <form id="addCustomerForm">
                    <div class="form-section">
                        <h3>Company Information</h3>
                        <div class="form-group">
                            <label for="companyName">Company Name</label>
                            <input type="text" id="companyName" required>
                        </div>
                        <div class="form-group">
                            <label for="accountType">Account Type</label>
                            <select id="accountType" required>
                                <option value="Premium">Premium</option>
                                <option value="Standard">Standard</option>
                                <option value="Basic">Basic</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="logoUrl">Company Logo URL</label>
                            <input type="url" id="logoUrl" value="https://via.placeholder.com/150">
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Contact Information</h3>
                        <div class="form-group">
                            <label for="contactName">Contact Name</label>
                            <input type="text" id="contactName" required>
                        </div>
                        <div class="form-group">
                            <label for="contactPosition">Position</label>
                            <input type="text" id="contactPosition" required>
                        </div>
                        <div class="form-group">
                            <label for="contactEmail">Contact Email</label>
                            <input type="email" id="contactEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="contactPhone">Contact Phone</label>
                            <input type="tel" id="contactPhone" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Company Email</label>
                            <input type="email" id="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Company Phone</label>
                            <input type="tel" id="phone" required>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Address Information</h3>
                        <div class="form-group">
                            <label for="address">Street Address</label>
                            <input type="text" id="address" required>
                        </div>
                        <div class="form-group">
                            <label for="city">City</label>
                            <input type="text" id="city" required>
                        </div>
                        <div class="form-group">
                            <label for="state">State/Province</label>
                            <input type="text" id="state" required>
                        </div>
                        <div class="form-group">
                            <label for="country">Country</label>
                            <input type="text" id="country" value="South Africa" required>
                        </div>
                        <div class="form-group">
                            <label for="postalCode">Postal Code</label>
                            <input type="text" id="postalCode" required>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Financial Information</h3>
                        <div class="form-group">
                            <label for="creditLimit">Credit Limit</label>
                            <input type="text" id="creditLimit" placeholder="$0.00" required>
                        </div>
                        <div class="form-group">
                            <label for="creditTerms">Credit Terms</label>
                            <select id="creditTerms" required>
                                <option value="Net 7">Net 7</option>
                                <option value="Net 15">Net 15</option>
                                <option value="Net 30">Net 30</option>
                                <option value="Net 45">Net 45</option>
                                <option value="Net 60">Net 60</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelAddCustomer">Cancel</button>
                        <button type="submit" class="btn btn-primary">Add Customer</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Customer Detail Modal -->
        <div id="customerDetailModal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <div class="customer-detail-container">
                    <div class="customer-profile-header">
                        <div class="customer-avatar">
                            <img id="customerLogo" src="https://via.placeholder.com/100" alt="Customer Logo">
                        </div>
                        <div class="customer-header-info">
                            <h2 id="customerName">Customer Name</h2>
                            <span id="customerAccountType" class="account-badge">Premium</span>
                            <p id="customerSince">Customer since: January 1, 2023</p>
                        </div>
                        <div class="customer-header-actions">
                            <button class="btn btn-primary" id="editCustomerBtn">Edit</button>
                        </div>
                    </div>

                    <div class="tabs">
                        <div class="tab active" data-tab="profile">Profile</div>
                        <div class="tab" data-tab="orders">Order History</div>
                        <div class="tab" data-tab="queries">Support Queries</div>
                    </div>

                    <div class="tab-content active" id="profileTab">
                        <div class="profile-details">
                            <div class="detail-section">
                                <h3>Contact Information</h3>
                                <div class="detail-row">
                                    <span class="detail-label">Primary Contact:</span>
                                    <span id="contactName" class="detail-value">John Doe</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Position:</span>
                                    <span id="contactPosition" class="detail-value">Procurement Manager</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Email:</span>
                                    <a id="contactEmail" href="mailto:john@example.com" class="detail-value clickable">john@example.com</a>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Phone:</span>
                                    <a id="contactPhone" href="tel:+15551234567" class="detail-value clickable">(555) 123-4567</a>
                                </div>
                            </div>
                            
                            <div class="detail-section">
                                <h3>Company Information</h3>
                                <div class="detail-row">
                                    <span class="detail-label">Company ID:</span>
                                    <span id="customerId" class="detail-value">CUST-12345</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Main Email:</span>
                                    <a id="companyEmail" href="mailto:info@example.com" class="detail-value clickable">info@example.com</a>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Main Phone:</span>
                                    <a id="companyPhone" href="tel:+15557654321" class="detail-value clickable">(555) 765-4321</a>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Address:</span>
                                    <span id="companyAddress" class="detail-value">123 Main St, City, State 12345</span>
                                </div>
                            </div>
                            
                            <div class="detail-section">
                                <h3>Financial Information</h3>
                                <div class="detail-row">
                                    <span class="detail-label">Credit Limit:</span>
                                    <span id="creditLimit" class="detail-value">$25,000.00</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Credit Terms:</span>
                                    <span id="creditTerms" class="detail-value">Net 30</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Total Purchases:</span>
                                    <span id="totalPurchases" class="detail-value">$157,892.45</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" id="ordersTab">
                        <div class="order-history">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Order ID</th>
                                        <th>Date</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="orderHistoryTable">
                                    <!-- Order history rows will be dynamically added here -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="queriesTab">
                        <div class="customer-queries">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Ticket ID</th>
                                        <th>Subject</th>
                                        <th>Date</th>
                                        <th>Status</th>
                                        <th>Priority</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="customerQueriesTable">
                                    <!-- Customer queries rows will be dynamically added here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="customers_pages.js"></script>
    <script src="theme.js"></script>
    <script src="settings.js"></script>
</body>
</html>